{
  "name": "Ephect (PHP injection)",
  "scopeName": "source.php.ephect",
  "injectionSelector": "L:source.php",
  "patterns": [
    //
    // ---- CONTROLES EPHECT ----
    //
    {
      "name": "keyword.control.ephect",
      "match": "@(if|elseif|else|for|while|switch|case|default|break|continue|do|done|op|endswitch)\\b"
    },

    //
    // ---- MOTS CLEFS SUPPLEMENTAIRES ----
    //

    {
      "name": "keyword.control.ephect.do",
      "match": "\\bdo\\s*$"
    },

    {
      "name": "keyword.control.ephect.as",
      "match": "\\bas\\b"
    },

    {
      "name": "keyword.operator.ephect.in",
      "match": "\\bin\\b"
    },

    {
      "name": "keyword.operator.ephect.instanceof",
      "match": "\\binstanceof\\b"
    },

    //
    // ---- VARIABLES % ----
    //
    {
      "name": "variable.parameter.ephect",
      "match": "%[a-zA-Z_][a-zA-Z0-9_]*"
    },

    //
    // ---- EXPRESSIONS LIQUID ----
    //
    {
      "begin": "\\{\\{",
      "end": "\\}\\}",
      "name": "entity.other.ephect.liquid",
      "patterns": [
        {
          "match": "%?[a-zA-Z_][a-zA-Z0-9_\\->]*",
          "name": "variable.other.ephect"
        },
        {
          "match": "\\b(as|in|instanceof)\\b",
          "name": "keyword.operator.ephect"
        }
      ]
    }
  ]
}
